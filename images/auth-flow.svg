<svg width="700" height="500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 16px sans-serif; fill: #232F3E; }
      .step { font: 12px sans-serif; fill: #232F3E; }
      .small { font: 10px sans-serif; fill: #232F3E; }
      .box { fill: #FF9900; stroke: #232F3E; stroke-width: 2; rx: 8; }
      .arrow { stroke: #232F3E; stroke-width: 2; marker-end: url(#arrowhead); }
      .browser { fill: #E7F3FF; stroke: #0073BB; stroke-width: 1; rx: 4; }
      .device { fill: #F0F8FF; stroke: #4A90E2; stroke-width: 1; rx: 4; }
      .success { fill: #D4F4DD; stroke: #28A745; stroke-width: 1; rx: 4; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#232F3E" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="350" y="25" text-anchor="middle" class="title">Amazon Q CLI Authentication Flow</text>
  
  <!-- Start -->
  <rect x="300" y="50" width="100" height="40" class="box"/>
  <text x="350" y="75" text-anchor="middle" class="step">q login</text>
  
  <!-- Browser Opens -->
  <rect x="50" y="130" width="150" height="60" class="browser"/>
  <text x="125" y="150" text-anchor="middle" class="step">Browser Opens</text>
  <text x="125" y="165" text-anchor="middle" class="small">AWS Builder ID</text>
  <text x="125" y="180" text-anchor="middle" class="small">Login Page</text>
  
  <!-- Device Code -->
  <rect x="275" y="130" width="150" height="60" class="device"/>
  <text x="350" y="150" text-anchor="middle" class="step">Device Code</text>
  <text x="350" y="165" text-anchor="middle" class="small">Displayed in</text>
  <text x="350" y="180" text-anchor="middle" class="small">Terminal</text>
  
  <!-- IAM Identity Center -->
  <rect x="500" y="130" width="150" height="60" class="browser"/>
  <text x="575" y="150" text-anchor="middle" class="step">IAM Identity Center</text>
  <text x="575" y="165" text-anchor="middle" class="small">Enterprise</text>
  <text x="575" y="180" text-anchor="middle" class="small">Authentication</text>
  
  <!-- Enter Code -->
  <rect x="150" y="230" width="150" height="60" class="device"/>
  <text x="225" y="250" text-anchor="middle" class="step">Enter Device Code</text>
  <text x="225" y="265" text-anchor="middle" class="small">in Browser</text>
  <text x="225" y="280" text-anchor="middle" class="small">Complete Login</text>
  
  <!-- Authorize -->
  <rect x="400" y="230" width="150" height="60" class="device"/>
  <text x="475" y="250" text-anchor="middle" class="step">Authorize Q CLI</text>
  <text x="475" y="265" text-anchor="middle" class="small">Grant Permissions</text>
  <text x="475" y="280" text-anchor="middle" class="small">to Access AWS</text>
  
  <!-- Success -->
  <rect x="275" y="330" width="150" height="60" class="success"/>
  <text x="350" y="350" text-anchor="middle" class="step">Authentication</text>
  <text x="350" y="365" text-anchor="middle" class="step">Successful!</text>
  <text x="350" y="380" text-anchor="middle" class="small">Ready to use Q CLI</text>
  
  <!-- Ready -->
  <rect x="300" y="420" width="100" height="40" class="box"/>
  <text x="350" y="445" text-anchor="middle" class="step">q chat</text>
  
  <!-- Arrows -->
  <line x1="350" y1="90" x2="350" y2="130" class="arrow"/>
  
  <!-- Split to options -->
  <line x1="320" y1="110" x2="150" y2="130" class="arrow"/>
  <line x1="350" y1="110" x2="350" y2="130" class="arrow"/>
  <line x1="380" y1="110" x2="550" y2="130" class="arrow"/>
  
  <!-- Flow down -->
  <line x1="125" y1="190" x2="200" y2="230" class="arrow"/>
  <line x1="350" y1="190" x2="350" y2="230" class="arrow"/>
  <line x1="575" y1="190" x2="500" y2="230" class="arrow"/>
  
  <!-- Converge to success -->
  <line x1="250" y1="290" x2="320" y2="330" class="arrow"/>
  <line x1="450" y1="290" x2="380" y2="330" class="arrow"/>
  
  <line x1="350" y1="390" x2="350" y2="420" class="arrow"/>
  
  <!-- Labels -->
  <text x="200" y="120" text-anchor="middle" class="small">Individual Developer</text>
  <text x="500" y="120" text-anchor="middle" class="small">Enterprise User</text>
</svg>
